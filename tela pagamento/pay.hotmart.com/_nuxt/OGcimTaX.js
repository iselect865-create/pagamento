const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D6usMk8E.js","./DwAhmdkZ.js","./CH6JZAHr.js","./Bn4eBZ_a.js","./entry.eSv53HF8.css","./CowBw8Ep.js","./InstallmentsList.CpIswwxa.css"])))=>i.map(i=>d[i]);
import{t as z,a7 as U,U as b,am as X,v as O,x as Y,y as i,aa as q,bg as it,ct as rt,aZ as ct,ak as dt,a3 as R,s as d,I as H,m as _,ab as y,p as o,n as c,a5 as M,ac as r,bs as lt,_ as B,aj as ut,bd as _t,ap as K,aQ as Z,cu as mt,bk as Q,cv as pt,u as J,Y as ht,cw as yt,k as ft,o as gt,G as N,aX as V,aO as vt,a$ as bt,bB as Tt,bv as xt,aW as St,a2 as W,aU as Dt,a4 as It}from"./CH6JZAHr.js";import{_ as j}from"./Bn4eBZ_a.js";import{C as wt}from"./CgLFZxAR.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="9e240f5c-b9b1-427c-a4c5-b494ff22117b",t._sentryDebugIdIdentifier="sentry-dbid-9e240f5c-b9b1-427c-a4c5-b494ff22117b")}catch{}})();const Et={key:0},$t={class:"_font-weight-bold _text-blue-dark _text-3 _m-0 _p-0"},kt={key:0,class:"_font-weight-bold _text-blue-dark _text-1 _m-0 _p-0"},Ot=["innerHTML"],Pt={key:1,class:"_font-weight _text-1 _line-height _text-blue-dark _mb-2","data-test-id":"header-product-one-time-payment-price"},Ct={key:2,class:"_font-weight _text-1 _line-height _text-blue-dark"},At={key:3,class:"_font-weight _text-1 _line-height _text-gray-400"},Lt={key:4,class:"_font-weight _text-1 _line-height _text-gray-600"},Nt={key:5,class:"_font-weight _text-1 _line-height _text-gray-600 _mt-1"},Rt={key:6,"data-testid":"early-renewal-price-info",class:"_font-weight _text-1 _line-height _text-gray-600 _mt-1"},Mt={key:7,class:"_font-weight _text-1 _line-height _text-gray-600 _mt-2"},Ut=z({__name:"ProductPriceInfos",props:{product:{type:Object,required:!0,default:()=>({})},isFunnel:{type:Boolean,required:!1,default:!1},isHotmartInstallmentsFunnelFlow:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,n=U(),u=b(),p=X(),l=O(),{t:m,te:g}=Y(),h=i(()=>{const s=n.productMaxChargeCyclesInfo(e.product.ucode);return s&&m(s.key,s.parameters)}),T=i(()=>q(n.priceTitle(e.product.ucode))),I=i(()=>{var v,k;const s=(k=(v=n.getSummaryItemByType("TAX"))==null?void 0:v.type)!=null&&k.includes("TAX_PROVINCIAL")?u.regionIsoCode:void 0;return(D=>it({translate:m,verifyTranslationKey:g,countryIsoCode:u.countryIsoCode,regionIsoCode:s,parentKey:"tax",label:D}))("summary.tax_label")}),P=i(()=>{const s=n.priceDescription(e.product.ucode);return s&&m(s.key,s.parameters)}),w=i(()=>n.isSubscriptionEarlyRenewal(e.product.ucode)),S=i(()=>!l.isDisplayingHotmartInstallmentsModal&&!!n.offerDescription()),C=i(()=>n.isADomesticSale),a=i(()=>m("tax.price_extra_info")),A=i(()=>{var D,L;const s=(L=(D=n.paymentMethodData(e.product.ucode))==null?void 0:D.additionalData)==null?void 0:L.couponDaysToExtend;if(!s)return"";const v=`${rt(s)} ${m("general.months")}`,{value:k}=n.getSummaryItemByType(ct.COUPON);return k?m("earlyRenewal.prepay_with_discount",[v]):m("earlyRenewal.prepay_without_discount",[v])}),x=i(()=>{let s;const f=n.priceInstallmentsDescription(e.product.ucode);if(f!=null&&f.name){const v=m(n.paymentMethodName(f.name));s=[...f.parameters,v]}return f&&m(f.key,s||f.parameters)}),E=i(()=>{var s;return!((s=u.checkoutOptions)!=null&&s.hideInstallments)&&!!x.value&&!l.isDisplayingHotmartInstallmentsModal}),$=i(()=>E.value&&(!e.isFunnel||l.isPaymentWithCreditCard||e.isHotmartInstallmentsFunnelFlow)),F=i(()=>{var s;return l.isPurchasingWithInstallments(e.product.ucode)&&!l.isDisplayingHotmartInstallmentsModal&&l.shouldShowMaxInstallments&&!E.value&&!((s=u.checkoutOptions)!=null&&s.hideOneTimePaymentPrice)}),tt=i(()=>{const s=n.oneTimePaymentPriceTitle(e.product.ucode);return m("installments.label_one_time_payment_price",[q(s)])}),et=i(()=>{var D,L,G;const s=(D=u.eventsOptions)==null?void 0:D[e.product.ucode],v=((L=s==null?void 0:s.lot)==null?void 0:L.offerCode)===e.product.offer.key,k=((G=s==null?void 0:s.reservationOptions)==null?void 0:G.minimum)<=(p.quantity[e.product.ucode]||1);return!n.isEvent()||v&&k}),ot=i(()=>{const s=n.getSummaryItemByType("TAX");return(s==null?void 0:s.value)&&(s==null?void 0:s.operation)!=="OMIT"&&u.countryIsoCode.toUpperCase()!=="CA"&&!l.isPurchasingWithInstallments(e.product.ucode)}),st=i(()=>{const s=n.getSummaryItemByType("TAX",e.product.ucode);return s.currency&&s.value&&u.locale?dt({locale:u.locale,amount:{value:s.value,currency:s.currency}}):""}),nt=i(()=>n.shouldShowMaxChargeCyclesInfo(e.product.ucode)),at=i(()=>n.shouldShowPriceDescription(e.product.ucode));return(s,f)=>(d(),R(lt,{name:"fade"},{default:H(()=>[o(et)?(d(),_("div",Et,[c("div",$t,[c("div",{class:M(["_d-flex",{"_justify-content-center":t.isFunnel,"_justify-content-between":!t.isFunnel}]),"data-testid":"product-price"},r(o(T)),3),o(ot)?(d(),_("div",kt,r(o(I))+" "+r(s.$t("general.included"))+" ("+r(o(st))+") ",1)):y("",!0)]),o(n).shouldShowPriceExtraInfo?(d(),_("div",{key:0,class:"_font-weight _text-1 _line-height _text-blue-dark",innerHTML:o(a)},null,8,Ot)):y("",!0),o(F)?(d(),_("div",Pt,r(o(tt)),1)):y("",!0),o($)?(d(),_("div",Ct,r(o(x)),1)):y("",!0),o(C)?(d(),_("div",At,r(s.$t("tax.domestic_sale_message")),1)):y("",!0),o(at)?(d(),_("div",Lt,r(o(P)),1)):y("",!0),o(nt)?(d(),_("div",Nt,r(o(h)),1)):y("",!0),o(w)?(d(),_("div",Rt,r(o(A)),1)):y("",!0),o(S)?(d(),_("div",Mt,r(o(n).offerDescription()),1)):y("",!0)])):y("",!0)]),_:1}))}}),$e=B(Ut,[["__scopeId","data-v-cf996f3f"]]),Bt={name:"RegressiveTimeBar",props:{remainingTime:{type:Number,default:9e5},timestampReservationLimit:{type:Number,default:9e5},onTimerEnds:{type:Function,default:()=>({})}},data:()=>({barWidth:"0%",expirationDate:null,expirationLimit:null,expirationTime:"",remainingTimeCount:null,ticketTimer:null}),computed:{hasCountdownEnded(){return this.remainingTimeCount/1e3<=1}},mounted(){this.remainingTimeCount=this.remainingTime,this.expirationLimit=this.timestampReservationLimit,this.expirationDate=new Date(this.remainingTimeCount+new Date().getTime()),this.setTime(),this.hasCountdownEnded&&O().CLEAR_PURCHASE_SESSION()},methods:{setTime(){this.barWidth=`${this.remainingTimeCount*100/this.expirationLimit}%`,this.remainingTimeCount=this.remainingTimeCount-1e3;const t=(this.remainingTimeCount/1e3/60<<0).toFixed(0);let e=(this.remainingTimeCount/1e3%60).toFixed(0);e=e<10?`0${e}`:e,this.expirationTime=`${t}:${e}`,this.hasCountdownEnded||new Date().getTime()>Math.abs(this.expirationDate)?(clearInterval(this.ticketTimer),this.onTimerEnds()):this.ticketTimer=setTimeout(()=>{this.setTime()},1e3)}}},Ft={class:"regressive-time-bar"},Qt={class:"regressive-time-bar__time"};function Vt(t,e,n,u,p,l){return d(),_("div",Ft,[c("div",{class:"regressive-time-bar__progress",style:ut(`width: ${t.barWidth};`)},[c("div",Qt,r(t.expirationTime),1)],4)])}const qt=B(Bt,[["render",Vt],["__scopeId","data-v-d7417436"]]),Ht={name:"EventLotSelection",props:{productUcode:{required:!0,type:String}},data:()=>({formId:"EVENT_PARTICIPANTS_FORM",iOS:!1}),computed:{..._t(b,X,U),productData(){return this.productDataStore.product(this.productUcode)},eventOptions(){return this.loadStore.eventsOptions[this.productUcode]},productQuantity(){return this.paymentStore.quantity[this.productUcode]||1},ticketLots(){var t;return[(t=this.eventOptions)==null?void 0:t.lot]},reservationOptions(){var t;return(t=this.eventOptions)==null?void 0:t.reservationOptions},shouldDisableDecreaseButton(){var t;return this.productQuantity===((t=this.reservationOptions)==null?void 0:t.minimum)},shouldDisableIncreaseButton(){var t;return this.productQuantity===((t=this.reservationOptions)==null?void 0:t.limit)}},async mounted(){var n,u,p;this.iOS=pt();const t=J(),e=ht();((n=this.reservationOptions)==null?void 0:n.minimum)>this.productQuantity&&(Q({offerToUpdate:this.productData.offer.key,affiliationToUpdate:t.params.affiliationReference,newData:{quantity:this.reservationOptions.minimum}}),await this.reloadProductData(this.reservationOptions.minimum),this.setProductQuantity(this.reservationOptions.minimum)),this.productData.offer.key!==((u=this.eventOptions)==null?void 0:u.lot.offerCode)&&(Q({offerToUpdate:this.productData.offer.key,affiliationToUpdate:t.params.affiliationReference,newData:{offer:(p=this.eventOptions)==null?void 0:p.lot.offerCode}}),await yt({couponError:""}),await b().GET_LOAD_DATA(),await b().UPDATE_EVENT_DATA({ucode:this.productData.ucode})),e.SEND_GTAG_EVENT({eventName:"begin_checkout"}),e.SEND_GA4_EVENT({eventName:"begin_checkout"})},methods:{updateLoadableItem({offerToUpdate:t,affiliationToUpdate:e,newData:n}){const u=b(),p=u.loadableItems.findIndex(m=>productItemInState(m,{offer:t,affiliation:e,quantity:1}));if(p<0)return;const l={...u.loadableItems,[p]:{...u.loadableItems[p],...n}};u.$patch({loadableItems:l})},updateProductQuantity(t){const e=t==="add"?1:-1,n=this.productQuantity+e;this.setProductQuantity(n),this.reloadProductData(n)},decreaseQuantity(){this.updateProductQuantity("remove")},increaseQuantity(){this.updateProductQuantity("add")},async reloadProductData(t){O().SET_FULL_LOADING({isFullLoadingVisible:!0}),await b().UPDATE_EVENT_DATA({ucode:this.productData.ucode,quantity:t}),await b().GET_LOAD_DATA(),O().SET_FULL_LOADING({isFullLoadingVisible:!1})},setProductQuantity(t){mt({ucode:this.productData.ucode,quantity:t}),Q({offerToUpdate:this.productData.offer.key,affiliationToUpdate:this.productData.sellerAffiliation,newData:{quantity:t}})}}},Gt={class:"lots-selection"},Wt={class:"_bg-gray-200 _rounded-top _border _border-gray-300 _d-flex _py-1 _px-4 _text-center"},jt={class:"_w-half"},zt={class:"_w-half"},Xt={class:"_rounded-bottom _border _border-gray-300 _border-top-0 _d-flex _px-2 _py-2 _text-center _align-items-center"},Yt={class:"_w-half"},Kt=["disabled"],Zt={class:"_d-inline-block _text-2 _w-6","data-testid":"ticket-amount"},Jt=["disabled"],te={key:0,class:"_my-3 _text-center _border _border-blue-light _bg-blue-lightest _p-3 _rounded","data-testid":"untransferable-ticket-warning"};function ee(t,e,n,u,p,l){return d(),_("div",Gt,[(d(!0),_(K,null,Z(l.ticketLots,(m,g)=>(d(),_("div",{key:`lot-selection-${g}`,class:"lot-selection"},[c("div",Wt,[c("div",jt,r(t.$t("general.lot")),1),c("div",zt,r(t.$t("general.quantity")),1)]),c("div",Xt,[c("div",Yt,r(m.title),1),c("div",{class:M(["lot-selection__actions _w-half",{ios_platform:!!t.iOS}])},[c("button",{disabled:l.shouldDisableDecreaseButton,class:"decrease-button","data-testid":"decrease-button",onClick:e[0]||(e[0]=(...h)=>l.decreaseQuantity&&l.decreaseQuantity(...h))}," ‐ ",8,Kt),c("span",Zt,r(l.productQuantity),1),c("button",{disabled:l.shouldDisableIncreaseButton,class:"increase-button","data-testid":"increase-button",onClick:e[1]||(e[1]=(...h)=>l.increaseQuantity&&l.increaseQuantity(...h))}," + ",8,Jt)],2)]),l.reservationOptions.nonTransferable?(d(),_("div",te,r(t.$t("ticket.non_transferable")),1)):y("",!0)]))),128))])}const oe=B(Ht,[["render",ee],["__scopeId","data-v-feec5d67"]]),se={key:0,class:"event-data _text-1 _d-flex _flex-column _flex-md-row _justify-content-center _mb-4","data-testid":"event-data"},ne={key:0,class:"_w-full _w-md-half"},ae={class:"event-data__header"},ie={class:"event-data__content"},re={key:0,class:"event-data__header"},ce={class:"event-data__content"},de={class:"event-data__header"},le={class:"event-data__content"},ue={__name:"EventData",props:{isFunnel:{type:Boolean,default:!1}},setup(t){const e=U(),n=b(),u=O(),p=J(),l=ft(),{hideEventData:m}=p.query,g=i(()=>{var a;return(a=n.eventsOptions)==null?void 0:a[e.ucode]}),h=i(()=>{var a;return(a=g.value)==null?void 0:a.event}),T=i(()=>{var a;return(a=g.value)==null?void 0:a.reservationOptions}),I=i(()=>{var a;return(a=l.$checkoutElements)!=null&&a.isActive&&m?!1:h.value&&Object.keys(h.value).length}),P=i(()=>{var a;return!((a=h.value)!=null&&a.isOnline)}),w=i(()=>{var a;return!!((a=T.value)!=null&&a.remainingTime)}),S=i(()=>!e.isAnOnlineService());gt(async()=>{await n.UPDATE_EVENT_DATA({ucode:e.ucode})});function C(){u.GENERATE_SESSION_ID(),Tt(xt.SESSION_EXPIRED)}return(a,A)=>{const x=vt,E=qt,$=bt,F=oe;return o(I)?(d(),_("div",se,[t.isFunnel?y("",!0):(d(),_("div",ne,[c("div",ae,[N(x,{name:o(e).isAnOnlineService()?"calendar-day":"microphone",size:o(e).isAnOnlineService()?"15":"13"},null,8,["name","size"]),V(" "+r(a.$t(`general.${o(e).isAnOnlineService()?"date_and_time":"event"}`)),1)]),c("div",ie,r(`${o(h).startDate} ${a.$t("general.until")} ${o(h).endDate}`),1),o(P)?(d(),_("div",re,[N(x,{name:"location-dot",size:"13"}),V(" "+r(a.$t("general.place")),1)])):y("",!0),c("div",ce,r(o(h).placeName)+" - "+r(o(h).address),1),o(w)?(d(),R($,{key:1},{default:H(()=>[c("div",de,[N(x,{name:"clock",size:"12"}),V(" "+r(a.$t("ticket.reservation_expires_in")),1)]),c("div",le,[(d(),R(E,{key:o(T).remainingTime,"remaining-time":o(T).remainingTime,"timestamp-reservation-limit":o(T).timestampReservationLimit,"on-timer-ends":C},null,8,["remaining-time","timestamp-reservation-limit"]))])]),_:1})):y("",!0)])),o(S)?(d(),_("div",{key:1,class:M(["_w-full",{"_w-md-half _ml-md-2":!t.isFunnel}])},[N($,null,{default:H(()=>[N(F,{"product-ucode":o(e).ucode},null,8,["product-ucode"])]),_:1})],2)):y("",!0)])):y("",!0)}}},ke=B(ue,[["__scopeId","data-v-b088ac69"]]),Oe=z({__name:"Installments",props:{productUcode:{type:String,default:""},installmentsList:{type:Array,default:null},disabled:{type:Boolean,default:!1},disabledTipCopy:{type:String,default:""},forceSelectVariant:{type:Boolean,default:!1},ignoreSplit:{type:Boolean,require:!1},checkoutContext:{type:String,default:"not_provided"}},setup(t){const e=t,{countryIsoCode:n,checkoutOptions:u}=St(b()),p={select:W(()=>j(()=>import("./D6usMk8E.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),list:W(()=>j(()=>import("./CowBw8Ep.js"),__vite__mapDeps([5,2,3,4,6]),import.meta.url))},l=i(()=>e.forceSelectVariant||n.value==="BR"?p.select:p.list);return(m,g)=>{var h;return(h=o(u))!=null&&h.hideInstallments?y("",!0):(d(),R(It(o(l)),Dt({key:0},{productUcode:t.productUcode,installmentsList:t.installmentsList,disabled:t.disabled,disabledTipCopy:t.disabledTipCopy,ignoreSplit:t.ignoreSplit,checkoutContext:t.checkoutContext},{"data-testid":"installments"}),null,16))}}}),_e={class:"_mt-4"},me={key:0,class:"_d-flex _flex-column _text-1 _text-gray _py-3 _px-3 _border _border-gray-200 _rounded"},pe={class:"_d-flex _text-1 _text-gray _mb-2"},he={class:"_font-weight-bold _flex-1 _m-0"},ye={class:"_d-flex _text-1 _text-gray _mb-2 _border-bottom _border-gray-200 _text-green-dark"},fe={class:"_flex-1 _m-0 _mb-2"},ge={class:"_m-0 _mb-2","data-testid":"product-summary-payment-method"},ve={class:"_d-flex _text-1 _text-gray"},be={class:"_font-weight-bold _flex-1 _m-0"},Te={class:"_m-0","data-testid":"product-summary-total"},xe={key:1,class:"_d-flex _flex-column _text-1 _text-gray _py-3 _px-2"},Se={class:"_font-weight-bold _flex-1 _m-0"},De={class:"_m-0","data-testid":"product-summary-total"},Pe={__name:"ProductSummary",setup(t){const{product:e,priceTitle:n,productSummaryItems:u,ucode:p,paymentMethodName:l}=U(),m=O(),{t:g}=Y(),h=i(()=>[...u(p??"")].sort(A=>A.type==="FULL_PRICE"?-1:1)),T=i(()=>{var a;return((a=e())==null?void 0:a.name)??""}),I=i(()=>!!h.value.length),P=i(()=>{var a;return I.value?g("summary.total"):((a=e())==null?void 0:a.name)??""}),w=i(()=>q(n(p))),S=i(()=>m.isPaymentWithHotmartInstallments),C=i(()=>{const a=S.value?m.hotmartInstallmentsSubPaymentMethod:m.paymentMethod;return g(l(a))});return(a,A)=>{const x=wt;return d(),_("div",_e,[c("h2",{id:"productSummaryHeader",class:M(["_text-gray-500 _text-2 _pb-2 _m-0 _px-1 _pt-1",{"_border-bottom _border-gray-200":!o(S)}])},r(a.$t("summary.title")),3),o(S)?(d(),_("ul",me,[c("li",pe,[c("p",he,r(o(T)),1)]),c("li",ye,[c("p",fe,r(a.$t("payment_methods.hotmart_installments.payment_of_modal.purchase_detail.payment")),1),c("p",ge,r(o(C)),1)]),c("li",ve,[c("p",be,r(a.$t("payment_methods.hotmart_installments.payment_of_modal.purchase_detail.total")),1),c("p",Te,r(o(w)),1)])])):(d(),_("ul",xe,[(d(!0),_(K,null,Z(o(h),(E,$)=>(d(),R(x,{key:`cart-summary-item-${$}`,item:E,"product-ucode":o(p)},null,8,["item","product-ucode"]))),128)),c("li",{class:M(["_d-flex _text-1 _text-gray",{"_border-top _border-gray-200 _pt-2 _mt-2":o(I)}])},[c("p",Se,r(o(P)),1),c("p",De,r(o(w)),1)],2)]))])}}};export{$e as _,ke as a,Oe as b,Pe as c};
